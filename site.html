<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Cameras Project Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- 
        Chosen Palette: Warm Neutrals with Teal Accent
        Application Structure Plan: The application is structured as a single, vertically scrolling page that mirrors the logical workflow presented in the source README. It begins with a high-level interactive workflow diagram that acts as a visual table of contents, allowing users to jump to specific steps. This is followed by an interactive file explorer to detail the project components, the step-by-step usage guide with copyable code snippets, and a final requirements section. This structure was chosen because the source material describes a clear, linear process. The SPA design makes this process more digestible and actionable than a static text document by adding visual hierarchy, interactivity for navigation, and direct-action buttons (e.g., copy code), enhancing usability for a technical audience.
        Visualization & Content Choices: 
        - Report Info: Project Workflow -> Goal: Organize/Inform -> Viz/Presentation: Interactive HTML/CSS Diagram -> Interaction: Click-to-scroll -> Justification: Visually communicates the process flow more effectively than a text list, and interaction aids navigation. Method: HTML/CSS with JS for scrolling.
        - Report Info: File List -> Goal: Organize/Inform -> Viz/Presentation: Two-panel File Explorer UI -> Interaction: Click to show details -> Justification: A familiar and engaging UI for developers to explore project components, more organized than a flat list. Method: HTML/CSS with JS for dynamic content updates.
        - Report Info: Code Commands -> Goal: Enable Action -> Viz/Presentation: Styled Code Blocks -> Interaction: Copy-to-clipboard button -> Justification: Essential for user convenience, reducing errors and effort. Method: HTML/CSS with JS for clipboard interaction.
        CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .code-block {
            position: relative;
        }
        .copy-btn {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background-color: #4A5568;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .copy-btn:hover {
            background-color: #2D3748;
        }
        .file-item.active {
            background-color: #E6FFFA;
            color: #2C7A7B;
            font-weight: 600;
        }
    </style>
</head>
<body class="bg-stone-50 text-slate-800">

    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">

        <!-- Header -->
        <header class="text-center mb-16">
            <h1 class="text-4xl md:text-5xl font-bold text-teal-800 mb-4">3D Cameras Project</h1>
            <p class="text-lg text-slate-600 max-w-3xl mx-auto">
                This interactive guide provides an overview of the Python scripts for working with RealSense cameras and processing captured data to create 3D point cloud models.
            </p>
        </header>

        <!-- Workflow Diagram -->
        <section id="workflow" class="mb-20">
            <h2 class="text-3xl font-bold text-center mb-10">Project Workflow</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                
                <div class="workflow-step bg-white p-6 rounded-lg shadow-lg cursor-pointer hover:shadow-xl transition-shadow" onclick="document.getElementById('step1').scrollIntoView();">
                    <div class="text-4xl mb-4">ðŸ“·</div>
                    <h3 class="text-xl font-semibold mb-2">1. Capture Data</h3>
                    <p class="text-slate-600">Use the RealSense camera to capture synchronized RGB and depth image pairs.</p>
                </div>

                <div class="workflow-step bg-white p-6 rounded-lg shadow-lg cursor-pointer hover:shadow-xl transition-shadow" onclick="document.getElementById('step2').scrollIntoView();">
                    <div class="text-4xl mb-4">ðŸ“¦</div>
                    <h3 class="text-xl font-semibold mb-2">2. Create Single Model</h3>
                    <p class="text-slate-600">Generate a 3D point cloud from a single RGB/Depth image pair.</p>
                </div>

                <div class="workflow-step bg-white p-6 rounded-lg shadow-lg cursor-pointer hover:shadow-xl transition-shadow" onclick="document.getElementById('step3').scrollIntoView();">
                    <div class="text-4xl mb-4">ðŸ§©</div>
                    <h3 class="text-xl font-semibold mb-2">3. Merge Multiple Frames</h3>
                    <p class="text-slate-600">Combine multiple point clouds into a single, more complete 3D model.</p>
                </div>

            </div>
        </section>

        <!-- File Explorer -->
        <section id="files" class="mb-20">
            <h2 class="text-3xl font-bold text-center mb-10">Project Files</h2>
             <div class="bg-white rounded-lg shadow-lg overflow-hidden md:flex">
                <div class="md:w-1/3 lg:w-1/4 bg-slate-50 border-r border-slate-200 p-4">
                    <h3 class="text-lg font-semibold mb-4 text-slate-700">File Explorer</h3>
                    <ul id="file-list" class="space-y-1">
                        <!-- File items will be injected by JS -->
                    </ul>
                </div>
                <div id="file-details" class="md:w-2/3 lg:w-3/4 p-8">
                    <!-- Details will be injected by JS -->
                     <p class="text-slate-500">Select a file from the left to see its description.</p>
                </div>
            </div>
        </section>

        <!-- Usage Section -->
        <section id="usage" class="mb-20">
            <h2 class="text-3xl font-bold text-center mb-10">Usage Instructions</h2>
            <div class="space-y-12">
                
                <!-- Step 1 -->
                <div id="step1" class="bg-white p-8 rounded-lg shadow-lg">
                    <h3 class="text-2xl font-semibold mb-4">1. Capture Data</h3>
                    <p class="text-slate-600 mb-6">First, you need to capture the RGB and depth data using the <code class="bg-slate-200 text-slate-800 rounded px-1 py-0.5">realsense_3d.py</code> script. This will create <code class="bg-slate-200 text-slate-800 rounded px-1 py-0.5">rgb/</code> and <code class="bg-slate-200 text-slate-800 rounded px-1 py-0.5">depth/</code> folders with your saved frames. Press <kbd class="bg-slate-200 text-slate-800 rounded px-2 py-1">s</kbd> to save frames as you move the camera around the object you wish to scan.</p>
                    <div class="code-block bg-slate-900 text-slate-100 rounded-md p-4">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        <pre><code>python realsense_3d.py</code></pre>
                    </div>
                </div>

                <!-- Step 2 -->
                <div id="step2" class="bg-white p-8 rounded-lg shadow-lg">
                    <h3 class="text-2xl font-semibold mb-4">2. Create a Single 3D Model</h3>
                    <p class="text-slate-600 mb-6">To create a 3D model from a single pair of saved frames, use the <code class="bg-slate-200 text-slate-800 rounded px-1 py-0.5">3d_model.py</code> script. You must provide the paths to the specific RGB and depth images you want to process.</p>
                    <div class="code-block bg-slate-900 text-slate-100 rounded-md p-4">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        <pre><code>python 3d_model.py rgb/frame_YYYYMMDD_HHMMSS.png depth/frame_YYYYMMDD_HHMMSS.png</code></pre>
                    </div>
                </div>

                <!-- Step 3 -->
                <div id="step3" class="bg-white p-8 rounded-lg shadow-lg">
                    <h3 class="text-2xl font-semibold mb-4">3. Merge Multiple Frames</h3>
                    <p class="text-slate-600 mb-6">To create a more complete 3D model by merging multiple frames, use the <code class="bg-slate-200 text-slate-800 rounded px-1 py-0.5">merge_frames.py</code> script. <strong class="text-amber-700">Before running</strong>, you must edit the <code class="bg-slate-200 text-slate-800 rounded px-1 py-0.5">frames</code> list within the script to include the filenames of the RGB and depth image pairs you want to merge.</p>
                    <div class="code-block bg-slate-900 text-slate-100 rounded-md p-4 mb-4">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        <pre><code># In merge_frames.py, update this list:
frames = [
    ("rgb/frame_20231027_153001.png", "depth/frame_20231027_153001.png"),
    ("rgb/frame_20231027_153002.png", "depth/frame_20231027_153002.png"),
    # Add all your frame pairs here
]</code></pre>
                    </div>
                    <p class="text-slate-600 mb-6">After updating the list, run the script. This will create a <code class="bg-slate-200 text-slate-800 rounded px-1 py-0.5">merged_model.ply</code> file.</p>
                    <div class="code-block bg-slate-900 text-slate-100 rounded-md p-4">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        <pre><code>python merge_frames.py</code></pre>
                    </div>
                </div>

            </div>
        </section>
        
        <!-- Requirements Section -->
        <section id="requirements">
            <h2 class="text-3xl font-bold text-center mb-10">Requirements</h2>
            <div class="max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-lg">
                <p class="text-slate-600 mb-6">The scripts require the following Python libraries. You can install them all with a single command using pip.</p>
                <ul class="list-disc list-inside mb-6 space-y-2 text-slate-700">
                    <li>pyrealsense2</li>
                    <li>open3d</li>
                    <li>numpy</li>
                    <li>opencv-python (`cv2`)</li>
                </ul>
                <div class="code-block bg-slate-900 text-slate-100 rounded-md p-4">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    <pre><code>pip install pyrealsense2 open3d numpy opencv-python</code></pre>
                </div>
            </div>
        </section>

    </div>

    <footer class="text-center py-8 text-slate-500">
        <p>Interactive guide generated from project README.</p>
    </footer>

    <script>
        const fileData = {
            'realsense_r200.py': {
                icon: 'ðŸ“¹',
                description: 'A basic camera tester script. It iterates through available video devices and displays the feed. Allows for saving single frames and recording video clips.',
                details: [
                    "Press 'q' to quit the current camera and move to the next.",
                    "Press 's' to save a single frame to the `saved_images` directory.",
                    "Press 'r' to start or stop video recording to the `saved_videos` directory."
                ]
            },
            'realsense_3d.py': {
                icon: 'ðŸ“·',
                description: 'Captures synchronized RGB and depth frames from a RealSense camera. It visualizes the combined frames and allows you to save the paired images for 3D model generation.',
                details: [
                    "Press 's' to save the current RGB and depth frames to `rgb/` and `depth/` directories.",
                    "Press 'q' to quit the script."
                ]
            },
            '3d_model.py': {
                icon: 'ðŸ“¦',
                description: 'Takes a single pair of RGB and depth images and generates a 3D point cloud model using the Open3D library. It visualizes the result and saves it as `output.ply`.',
                details: []
            },
            'merge_frames.py': {
                icon: 'ðŸ§©',
                description: 'Processes multiple pairs of RGB and depth images to merge them into a single, comprehensive point cloud model. The script visualizes the final merged model and saves it as `merged_model.ply`.',
                details: []
            },
            'README.md': {
                icon: 'ðŸ“„',
                description: 'The source markdown file that provides an overview of the project and instructions for use.',
                details: []
            },
            'merged_model.ply': {
                icon: 'ðŸ’Ž',
                description: 'A sample output file. This is a 3D point cloud model in the PLY format, generated by the `merge_frames.py` script. It contains vertex data with x, y, z coordinates and RGB color values.',
                details: []
            }
        };

        const fileListEl = document.getElementById('file-list');
        const fileDetailsEl = document.getElementById('file-details');

        function renderFileList() {
            let html = '';
            for (const filename in fileData) {
                html += `
                    <li>
                        <a href="#" class="file-item block w-full text-left p-2 rounded-md hover:bg-slate-200 transition-colors" data-filename="${filename}">
                            <span class="mr-2">${fileData[filename].icon}</span>
                            ${filename}
                        </a>
                    </li>
                `;
            }
            fileListEl.innerHTML = html;
        }

        function renderFileDetails(filename) {
            const data = fileData[filename];
            if (!data) return;

            let detailsHtml = '';
            if (data.details.length > 0) {
                detailsHtml = '<ul class="list-disc list-inside mt-4 space-y-2 text-slate-600">';
                data.details.forEach(detail => {
                    detailsHtml += `<li>${detail}</li>`;
                });
                detailsHtml += '</ul>';
            }

            fileDetailsEl.innerHTML = `
                <h3 class="text-2xl font-bold mb-2">${data.icon} ${filename}</h3>
                <p class="text-slate-700">${data.description}</p>
                ${detailsHtml}
            `;
            
            // Update active state
            document.querySelectorAll('.file-item').forEach(item => {
                item.classList.remove('active');
                if (item.dataset.filename === filename) {
                    item.classList.add('active');
                }
            });
        }

        fileListEl.addEventListener('click', (e) => {
            e.preventDefault();
            const target = e.target.closest('.file-item');
            if (target) {
                const filename = target.dataset.filename;
                renderFileDetails(filename);
            }
        });

        function copyCode(button) {
            const pre = button.parentElement.querySelector('pre');
            const code = pre.innerText;
            
            const textarea = document.createElement('textarea');
            textarea.value = code;
            document.body.appendChild(textarea);
            textarea.select();
            try {
                document.execCommand('copy');
                button.innerText = 'Copied!';
                setTimeout(() => {
                    button.innerText = 'Copy';
                }, 2000);
            } catch (err) {
                console.error('Failed to copy text: ', err);
                button.innerText = 'Error';
            }
            document.body.removeChild(textarea);
        }

        // Initial render
        window.onload = () => {
            renderFileList();
            // Select the first file by default
            const firstFile = Object.keys(fileData)[0];
            renderFileDetails(firstFile);
        };
    </script>
</body>
</html>

